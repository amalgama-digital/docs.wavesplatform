# Стандартная библиотека

Стандартная библиотека — множество встроенных [функций](/ru/ride/functions/built-in-functions/), [структур](/ru/ride/structures/) и [переменных](/ru/ride/variables/built-in-variables).

Версия используемой в скрипте Стандартной библиотеки задается [директивой](/ru/ride/script/directives) `STDLIB_VERSION`.

При разработке приложений рекомендуется использовать версию 5 Стандартной библиотеки. Описание ключевых особенностей версии 5 приведено в разделе [Версия 5 Стандартной библиотеки](/ru/ride/v5/).

Сравнение версий представлено в таблице.

| # | Версия 3 | Версия 4 | Версия 5 |
| :--- | :--- | :--- | :--- |
| Скрипт | **Добавлены:**<br>• [dApp-скрипт](/ru/ride/script/script-types/dapp-script)<br>• [Директивы](/ru/ride/script/directives)<br>• [Аннотации](/ru/ride/functions/annotations)<br>• [Пользовательские функции](/ru/ride/functions/)<br> • [Макрос FOLD\<N\>](/ru/ride/fold-macro) | | **Добавлены:**<br>• [Вызов dApp из dApp](/ru/ride/advanced/dapp-to-dapp) |
| [Типы данных](/ru/ride/data-types/) | **Добавлены:**<br>• [List](/ru/ride/data-types/list) | | **Добавлены:**<br>• [Any](/ru/ride/data-types/any)<br>• [BigInt](/ru/ride/data-types/bigint) |
| [Переменные](/ru/ride/variables/built-in-variables) | **Добавлены** встроенные переменные:<br>• this<br>• lastBlock<br>• nil<br>• Типы округления: CEILING, DOWN, FLOOR и т.д.<br>• Обозначения алгоритмов хеширования: NOALG, MD5, SHA1 и т.д. | | **Добавлены** [нетерпеливые переменные](/ru/ride/variables/) |
| [Структуры](/ru/ride/structures/) | **Добавлены:**<br>Действия скрипта:<br>• [DataEntry](/ru/ride/v4/structures/script-actions/data-entry)<br>• [ScriptTransfer](/ru/ride/structures/script-actions/script-transfer)<br>Результаты скрипта:<br>• [ScriptResult](/ru/ride/v4/structures/script-results/script-result)<br>• [TransferSet](/ru/ride/v4/structures/script-results/transfer-set)<br>• [WriteSet](/ru/ride/v4/structures/script-results/write-set)<br>Общие структуры:<br>• [Asset](/ru/ride/structures/common-structures/asset)<br>• [AttachedPayment](/ru/ride/structures/common-structures/attached-payment)<br>• [BlockInfo](/ru/ride/structures/common-structures/block-info)<br>• [Invocation](/ru/ride/structures/common-structures/invocation)<br>Структуры транзакций:<br>• [InvokeScriptTransaction](/ru/ride/structures/transaction-structures/invoke-script-transaction) | **Добавлены:**<br>Действия скрипта:<br>• [BinaryEntry](/ru/ride/structures/script-actions/binary-entry)<br>• [BooleanEntry](/ru/ride/structures/script-actions/boolean-entry)<br>• [IntegerEntry](/ru/ride/structures/script-actions/int-entry)<br>• [StringEntry](/ru/ride/structures/script-actions/string-entry)<br>• [DeleteEntry](/ru/ride/structures/script-actions/delete-entry)<br>• [Issue](/ru/ride/structures/script-actions/issue)<br>• [Reissue](/ru/ride/structures/script-actions/reissue)<br>• [Burn](/ru/ride/structures/script-actions/burn)<br>• [SponsorFee](/ru/ride/structures/script-actions/sponsor-fee)<br>Общие структуры:<br>• [BalanceDetails](/ru/ride/structures/common-structures/balance-details)<br>Структуры транзакций:<br>• [UpdateAssetInfoTransaction](/ru/ride/structures/transaction-structures/update-asset-info-transaction)<br>**Изменены:**<br>Общие структуры:<br>• [Asset](/ru/ride/structures/common-structures/asset)<br>• [BlockInfo](/ru/ride/structures/common-structures/block-info)<br>• [Invocation](/ru/ride/structures/common-structures/invocation)<br>Структуры транзакций:<br>• [DataTransaction](/ru/ride/structures/transaction-structures/data-transaction)<br>• [InvokeScriptTransaction](/ru/ride/structures/transaction-structures/invoke-script-transaction)<br>• [IssueTransaction](/ru/ride/structures/transaction-structures/issue-transaction)<br>**Удалены:**<br>• DataEntry<br>• ScriptResult<br>• TransferSet<br>• WriteSet | **Добавлены:**<br>Действия скрипта:<br>• [Lease](/ru/ride/structures/script-actions/lease)<br>• [LeaseCancel](/ru/ride/structures/script-actions/lease-cancel)<br>**Изменены:**<br>Общие структуры:<br>• [Invocation](/ru/ride/structures/common-structures/invocation) |
| [Встроенные функции](/ru/ride/functions/built-in-functions/) | **Добавлены:**<br>Функции блокчейна:<br>• [assetInfo](/ru/ride/functions/built-in-functions/blockchain-functions#assetinfo)<br>• [blockInfoByHeight](/ru/ride/functions/built-in-functions/blockchain-functions#blockinfobyheight)<br>• [transferTransactionById](/ru/ride/functions/built-in-functions/blockchain-functions#transfertransactionbyid)<br>Функции конвертации:<br>• [parseInt](/ru/ride/functions/built-in-functions/converting-functions#parse-int)<br>• [parseIntValue](/ru/ride/functions/built-in-functions/converting-functions#parse-int-value)<br>• [toInt](/ru/ride/functions/built-in-functions/converting-functions#toint-bytevector-int)<br>• [toUtf8String](/ru/ride/functions/built-in-functions/converting-functions#toutf8string-bytevector-string)<br>• [toString(Address)](/ru/ride/functions/built-in-functions/converting-functions#tostring-address-string)<br>Функции кодирования:<br>• [toBase16String](/ru/ride/functions/built-in-functions/encoding-functions#to-base-16-string)<br>Функции декодирования:<br>• [fromBase16String](/ru/ride/functions/built-in-functions/decoding-functions#frombase16string-string-bytevector)<br>Математические функции:<br>• [log](/ru/ride/functions/built-in-functions/math-functions#log)<br>• [pow](/ru/ride/functions/built-in-functions/math-functions#pow)<br>Функции строки:<br>• [indexOf](/ru/ride/functions/built-in-functions/string-functions#indexof-string-string-int-unit)<br>• [lastIndexOf](/ru/ride/functions/built-in-functions/string-functions#lastindexof-string-string-int-unit)<br>• [split](/ru/ride/functions/built-in-functions/string-functions#split)<br>Функции объединения:<br>• [value](/ru/ride/functions/built-in-functions/union-functions#value)<br>• [valueOrErrorMessage](/ru/ride/functions/built-in-functions/union-functions#valueorerrormessage-t-unit-string-t)<br>Функции верификации:<br>• [checkMerkleProof](/ru/ride/functions/built-in-functions/verification-functions#checkmerkleproof)<br>• [rsaVerify](/ru/ride/functions/built-in-functions/verification-functions#rsaverify)<br>**Удалены:**<br>• transactionById | **Добавлены:**<br>Функции блокчейна:<br>• [calculateAssetId](/ru/ride/functions/built-in-functions/blockchain-functions#calculateassetid)<br>Функции конвертации:<br>• [transferTransactionFromProto](/ru/ride/functions/built-in-functions/converting-functions#transfertransactionfromproto)<br>Функции списка:<br>• [containsElement](/ru/ride/functions/built-in-functions/list-functions#containselement)<br>• [indexOf](/ru/ride/functions/built-in-functions/list-functions#indexof)<br>• [lastIndexOf](/ru/ride/functions/built-in-functions/list-functions#lastindexof)<br>• [min](/ru/ride/functions/built-in-functions/list-functions#min)/[max](/ru/ride/functions/built-in-functions/list-functions#max)<br>• [removeByIndex](/ru/ride/functions/built-in-functions/list-functions#removeByIndex)<br>Математические функции:<br>• [median](/ru/ride/functions/built-in-functions/math-functions#median)<br>Функции строки:<br>• [contains](/ru/ride/functions/built-in-functions/string-functions#contains-string-string-boolean)<br>• [makeString](/ru/ride/functions/built-in-functions/string-functions#makestring-list-string-string-string)<br>Функции объединения:<br>• [valueOrElse](/ru/ride/functions/built-in-functions/union-functions#valueOrElse)<br>Функции верификации:<br>• [bn256groth16verify](/ru/ride/functions/built-in-functions/verification-functions#bn256groth16verify)<br>• [createMerkleRoot](/ru/ride/functions/built-in-functions/verification-functions#createmerkleroot)<br>• [ecrecover](/ru/ride/functions/built-in-functions/verification-functions#ecrecover)<br>• [groth16verify](/ru/ride/functions/built-in-functions/verification-functions#groth16verify)<br>**Удалены:**<br>• checkMerkleProof<br>• extract | **Добавлены:**<br>Функции вызова dApp из dApp: <br>•&nbsp;[invoke](/ru/ride/functions/built-in-functions/dapp-to-dapp#invoke)<br>•&nbsp;[reentrantInvoke](/ru/ride/functions/built-in-functions/dapp-to-dapp#reentrantinvoke)<br>Функции блокчейна:<br>•&nbsp;[calculateLeaseId](/ru/ride/functions/built-in-functions/blockchain-functions#calculateleaseid)<br>•&nbsp;[scriptHash](/ru/ride/functions/built-in-functions/blockchain-functions#scripthash)<br>Функции конвертации:<br>•&nbsp;[parseBigInt](/ru/ride/functions/built-in-functions/converting-functions#parse-bigint)<br>•&nbsp;[parseBigIntValue](/ru/ride/functions/built-in-functions/converting-functions#parse-bigintvalue)<br>•&nbsp;[toBigInt(ByteVector): BigInt](/ru/ride/functions/built-in-functions/converting-functions#to-bigint-bytevector)<br>•&nbsp;[toBigInt(ByteVector, Int, Int): BigInt](/ru/ride/functions/built-in-functions/converting-functions#to-bigint-bytevector-int-int)<br>•&nbsp;[toBigInt(Int): BigInt](/ru/ride/functions/built-in-functions/converting-functions#to-bigint-int)<br>•&nbsp;[toBytes(BigInt): ByteVector](/ru/ride/functions/built-in-functions/converting-functions#to-bytes-bigint)<br>•&nbsp;[toInt(BigInt): Int](/ru/ride/functions/built-in-functions/converting-functions#to-int-bigint)<br>•&nbsp;[toString(BigInt): String](/ru/ride/functions/built-in-functions/converting-functions#to-string-bigint)<br>Функции списка:<br>•&nbsp;[max(List[BigInt]): Bigint](/ru/ride/functions/built-in-functions/list-functions#max-list-bigint-bigint)<br>•&nbsp;[min(List[BigInt]): Bigint](/ru/ride/functions/built-in-functions/list-functions#min-list-bigint-bigint)<br>Математические функции:<br>•&nbsp;[fraction(Int, Int, Int, Union): Int](/ru/ride/functions/built-in-functions/math-functions#fractionintround)<br>•&nbsp;[fraction(BigInt, BigInt, BigInt): BigInt](/ru/ride/functions/built-in-functions/math-functions#fractionbigint)<br>•&nbsp;[fraction(BigInt, BigInt, BigInt, Union): BigInt](/ru/ride/functions/built-in-functions/math-functions#fractionbigintround)<br>•&nbsp;[log(BigInt, Int, BigInt, Int, Int, Union): BigInt](/ru/ride/functions/built-in-functions/math-functions#logbigint)<br>•&nbsp;[median(List[BigInt]): Bigint](/ru/ride/functions/built-in-functions/math-functions#medianbigint)<br>•&nbsp;[pow(BigInt, Int, BigInt, Int, Int, Union): BigInt](/ru/ride/functions/built-in-functions/math-functions#powbigint)<br>Функции хранилища данных аккаунта:<br>•&nbsp;[getBinary(key: String): ByteVector&#124;Unit](/ru/ride/functions/built-in-functions/account-data-storage-functions#getbinary-string-bytevector-unit)<br>•&nbsp;[getBinaryValue(key: String): ByteVector](/ru/ride/functions/built-in-functions/account-data-storage-functions#getbinaryvalue-string-bytevector)<br>•&nbsp;[getBoolean(key: String): Boolean&#124;Unit](/ru/ride/functions/built-in-functions/account-data-storage-functions#getboolean-string-boolean-unit)<br>•&nbsp;[getBooleanValue(key: String): Boolean](/ru/ride/functions/built-in-functions/account-data-storage-functions#getbooleanvalue-string-boolean)<br>•&nbsp;[getInteger(key: String): Int&#124;Unit](/ru/ride/functions/built-in-functions/account-data-storage-functions#getinteger-string-int-unit)<br>•&nbsp;[getIntegerValue(key: String): Int](/ru/ride/functions/built-in-functions/account-data-storage-functions#getintegervalue-string-int)<br>•&nbsp;[getString(key: String): String&#124;Unit](/ru/ride/functions/built-in-functions/account-data-storage-functions#getstring-string-string-unit)<br>•&nbsp;[getStringValue(key: String): String](/ru/ride/functions/built-in-functions/account-data-storage-functions#getstringvalue-string-string)<br>•&nbsp;[isDataStorageUntouched](/ru/ride/functions/built-in-functions/account-data-storage-functions#isdatastorageuntouched) |
| [Операторы](/ru/ride/operators/) | | **Добавлены:**<br>• [:+](/ru/ride/data-types/list)<br>• [++](/ru/ride/data-types/list) | |
| Изменения сложности | • Оператор [-](/ru/ride/operators/#арифметические-операторы): 9 → 1<br>• Оператор [!](/ru/ride/operators/#унарные-операторы): 11 → 1<br>• Оператор [!=](/ru/ride/operators/#операторы-равенства): 26 → 1<br>• [throw](/ru/ride/functions/built-in-functions/exception-functions): 2 → 1<br>• [isDefined](/ru/ride/functions/built-in-functions/union-functions#isdefined-list-t-unit-boolean): 35 → 1 | • Оператор **+**: 10 → 2 для значений типа<br>&nbsp;&nbsp;ByteVector, 10 → 20 для строк<br>• Функции: изменения сложности<br>&nbsp;&nbsp;см. в разделе [Встроенные функции](/ru/ride/functions/built-in-functions/)<br>• Добавлены функции `blake2b256_<N>Kb`,<br>&nbsp;&nbsp;`keccak256_<N>Kb`, `sha256_<N>Kb`,<br>&nbsp;&nbsp;`rsaVerify_<N>Kb`, `sigVerify_<N>Kb`<br>&nbsp;&nbsp;с различной сложностью сложностью<br>&nbsp;&nbsp;в зависимости от размера аргумента | [fraction](/ru/ride/functions/built-in-functions/math-functions#fraction): 1 → 14 |
| [Размер данных](/ru/ride/limits/) | | • `String`: до 32&nbsp;767 байт<br>• `ByteVector`: до 32&nbsp;767 байт(кроме<br>&nbsp;&nbsp;поля `bodyBytes` структуры транзакции) | |

<!-- br>• [Вычисления с продолжением](/ru/ride/advanced/continuation)-->
<!-- br>Функции [хранилища данных аккаунта](/ru/ride/functions/built-in-functions/account-data-storage-functions):<br>•&nbsp;getBinary(key: String): ByteVector&#124;Unit<br>•&nbsp;getBinaryValue(key: String): ByteVector<br>•&nbsp;getBoolean(key: String): Boolean&#124;Unit<br>•&nbsp;getBooleanValue(key: String): Boolean<br>•&nbsp;getInteger(key: String): Int&#124;Unit<br>•&nbsp;getIntegerValue(key: String): Int<br>•&nbsp;getString(key: String): String&#124;Unit<br>•&nbsp;getStringValue(key: String): String -->