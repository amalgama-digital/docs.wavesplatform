# Функция-верификатор

**Функция-верификатор** — функция [dApp-скрипта](/ru/ride/script/script-types/dapp-script), которая отвечает за [верификацию транзакций](/ru/blockchain/transaction/transaction-validation) и ордеров, отправляемых с аккаунта [dApp](/ru/blockchain/account/dapp) (то есть работает аналогично [скрипту аккаунта](/ru/ride/script/script-types/account-script)).

У dApp-скрипта может быть только одна функция-верификатор. Она помечается [аннотацией](/ru/ride/functions/annotations) `@Verifier(tx)`, где `tx: Transaction|Order` — текущая проверяемая транзакция или ордер.

Функция-верификатор не имеет аргументов.

Возможными результатами выполнения функции являются:

- `true` (отправка разрешена),
- `false` (отправка запрещена),
- ошибка (отправка запрещена).

Если в dApp нет функции-верификатора, то выполняется верификация по умолчанию, то есть проверка, что первое [подтверждение](/ru/blockchain/transaction/transaction-proof) в массиве `proofs` содержит подпись аккаунта-отправителя. Следующая функция полностью соответствует реализации по умолчанию:

   ```ride
   @Verifier(tx)
   func verify() = {
       sigVerify(tx.bodyBytes, tx.proofs[0], tx.senderPublicKey)
   }
   ```

Если функция-верификатор определена, выполняется только проверка этой функцией, подтверждения дополнительно не проверяются.

:warning: Если сложность функции-верификатора превышает [порог сложности отправителя](/ru/ride/limits/), минимальная комиссия за транзакцию, отправляемую с аккаунта dApp, увеличивается на 0,004 WAVES. (До активации фичи № 16 “Ride V5, dApp-to-dApp invocations” дополнительная комиссия требовалась независимо от наличия и сложности функции-верификатора.)

## Пример

dApp с приведенной ниже функцией-верификатором разрешает только [транзакции перевода](/ru/blockchain/transaction-type/transfer-transaction) с количеством токена менее 100. Отправка транзакций другого типа и ордеров запрещена. Задать правила верификации в зависимости от типа транзакции (или ордера) можно с помощью оператора [match](/ru/ride/operators/match-case).

```ride
@Verifier(tx)
func verify() = {
    match tx {
        case ttx:TransferTransaction => ttx.amount < 100 && sigVerify(ttx.bodyBytes, ttx.proofs[0], ttx.senderPublicKey)
        case _ => false
    }
}
```

Доступные поля транзакции по ее типу можно посмотреть в разделе [Структуры транзакций](/ru/ride/structures/transaction-structures/).
