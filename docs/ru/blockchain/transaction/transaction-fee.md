# Комиссия за транзакцию

**Комиссия за транзакцию** — комиссия, которую владелец [аккаунта](/ru/blockchain/account/) платит за отправку [транзакции](/ru/blockchain/transaction/).

Отправитель может указать любую сумму комиссии, но не менее минимальной. Чем больше сумма комиссии, тем быстрее транзакция попадет в новый [блок](/ru/blockchain/block/).

Комиссию за транзакцию вызова скрипта и транзакцию перевода можно указать в спонсорском ассете, см ниже подраздел [Комиссия в спонсорском ассете](#комиссия-в-спонсорском-ассете).

## Минимальная комиссия

Минимальная комиссия в WAVES для каждого типа транзакции представлена в таблице.

* Если отправитель транзакции — [dApp или смарт-аккаунт](/ru/blockchain/account/dapp), а сложность скрипта аккаунта или функции-верификатора dApp-скрипта превышает [порог сложности отправителя](/ru/ride/limits/), минимальная комиссия за транзакцию увеличивается на 0,004 WAVES.
* Минимальная комиссия за любую транзакцию, кроме транзакций вызова скрипта, увеличивается на 0,004 WAVES за каждый участвующий смарт-ассет.

Комиссия не увеличивается на 0,004 WAVES для [транзакций обмена](/ru/blockchain/transaction-type/exchange-transaction) за отправку ордера со смарт-аккаунта или за то, что комиссия матчера задана в смарт-ассетах.

<br/>
<details>
   <summary>До активации фичи №&nbsp;16 “Ride V5, dApp-to-dApp invocations”</summary>

* Дополнительная комиссия 0,004 WAVES за отправку транзакции со смарт-аккаунта или dApp требовалась независимо от сложности скрипта аккаунта или наличия и сложности функции-верификатора скрипта dApp.
* Для транзакции вызова скрипта минимальная комиссия увеличивалась на 0,004 WAVES каждое выполнение скриптов ассетов в платежах и действиях скрипта.
</details>

**Пример 1.**

Минимальная комиссия за транзакцию перевода:

* Без смарт-аккаунта и смарт-ассета: 0,001 WAVES.
* Перевод со смарт-аккаунта*: 0,001 + 0,004 = 0,005 WAVES.
* Перевод смарт-ассета: 0,001 + 0,004 = 0,005 WAVES.
* Перевод смарт-ассета со смарт-аккаунта*: 0,001 + 0,004 + 0,004 = 0,009 WAVES.

\* При условии, что сложность скрипта аккаунта выше [порога сложности отправителя](/ru/ride/limits/).

**Пример 2.**<a id="example2"></a>

Минимальная комиссия за транзакцию вызова скрипта:

* Без смарт-аккаунта, без выпуска новых ассетов: 0,005 WAVES.
* Вызов со смарт-аккаунта*: 0,005 + 0,004 = 0,009 WAVES.
* Вызов, в котором dApp-скрипт выпустил новый ассет (не являющийся [NFT](/ru/blockchain/token/non-fungible-token)): 0,005 + 1 = 1,005 WAVES.
* Вызов со смарт-аккаунта*, dApp-скрипт выпустил 10 ассетов (не являющихся [NFT](/ru/blockchain/token/non-fungible-token)): 0,005 + 0,004 + 10 × 1 = 10,009 WAVES.

\* При условии, что сложность скрипта аккаунта выше [порога сложности отправителя](/ru/ride/limits/).

> Возможность выпуска/довыпуска/cжигания токена dApp-скриптом появилась с момента активации фичи №&nbsp;15 “Ride V4, VRF, Protobuf, Failed transactions”.

| Тип транзакции | ID типа транзакции | Минимальная комиссия в WAVES |
| :--- | :--- | :--- |
| [Транзакция вызова скрипта](/ru/blockchain/transaction-type/invoke-script-transaction) | 16 | 0,005 + `K`<br>`K` — количество обычных ассетов (не являющихся [NFT](/ru/blockchain/token/non-fungible-token)), выпущенных в результате вызова dApp-скрипта.<br>Возможность выпуска токена dApp-скриптом появилась с момента активации фичи №&nbsp;15 “Ride V4, VRF, Protobuf, Failed transactions”.<br>См. также [пример 2](#example2) выше |
| [Транзакция выпуска](/ru/blockchain/transaction-type/issue-transaction) | 3 | • 1 за обычный токен <br>• 0,001 за [NFT](/ru/blockchain/token/non-fungible-token) |
| [Транзакция данных](/ru/blockchain/transaction-type/data-transaction) | 12 | 0,001 за килобайт<br>Размер округляется вверх до целого количества килобайт. [Подробнее](/ru/blockchain/transaction-type/data-transaction) |
| [Транзакция довыпуска](/ru/blockchain/transaction-type/reissue-transaction) | 5 | 0,001<br>(До активации фичи №&nbsp;15 “Ride V4, VRF, Protobuf, Failed transactions” — 1) |
| [Транзакция закрытия лизинга](/ru/blockchain/transaction-type/lease-cancel-transaction) | 9 | 0,001 |
| [Транзакция лизинга](/ru/blockchain/transaction-type/lease-transaction) | 8 | 0,001 |
| [Транзакция массового перевода](/ru/blockchain/transaction-type/mass-transfer-transaction) | 11 | 0,001 + 0,0005 × `N`<br>`N` — количество переводов внутри транзакции.<br>Значение округляется вверх до тысячных |
| [Транзакция обмена](/ru/blockchain/transaction-type/exchange-transaction) | 7 | 0,003 |
| [Транзакция перевода](/ru/blockchain/transaction-type/transfer-transaction) | 4 | 0,001 |
| [Транзакция сжигания токена](/ru/blockchain/transaction-type/burn-transaction) | 6 | 0,001 |
| [Транзакция создания псевдонима](/ru/blockchain/transaction-type/create-alias-transaction) | 10 | 0,001 |
| Транзакция спонсирования | 14 | 0,001<br>(До активации фичи №&nbsp;15 “Ride V4, VRF, Protobuf, Failed transactions” — 1) |
| [Транзакция установки скрипта](/ru/blockchain/transaction-type/set-script-transaction) | 13 | 0,01 |
| [Транзакция установки скрипта ассета](/ru/blockchain/transaction-type/set-asset-script-transaction) | 15 | 1 |
| [Транзакция обновления информации ассета](/ru/blockchain/transaction-type/update-asset-info-transaction) | 17 | 0.001<br>Тип транзакции появился с момента активации фичи №&nbsp;15 “Ride V4, VRF, Protobuf, Failed transactions” |

## Комиссия в спонсорском ассете

Эмитент ассета (аккаунт, выпустивший ассет) может сделать его спонсорским — разрешить любым пользователям платить в этом ассете комиссию за транзакции вызова скрипта и транзакции перевода.

Для включения спонсирования эмитент отправляет транзакцию спонсирования, в которой указывает количество ассета, эквивалентное минимальной комиссии 0,001 WAVES. Например, в случае `minSponsoredAssetFee: 5` комиссия в этом ассете за транзакцию вызова скрипта составит 5 × 0,005 / 0,001 = 25. Подробнее см. раздел [Спонсирование комиссии](/ru/blockchain/waves-protocol/sponsored-fee).

## Комиссия за транзакцию с неудачным результатом выполнения скрипта

Транзакции вызова скрипта и транзакции обмена сохраняются в блокчейне и отправитель платит комиссию, если результат выполнения dApp-скрипта или скрипта ассета был неудачным. Подробнее см. раздел [Валидация транзакции](/ru/blockchain/transaction/transaction-validation). В случае транзакции обмена с матчера взимается комиссия за транзакцию, однако [комиссия матчера](/ru/blockchain/transaction-type/exchange-transaction#комиссия-матчера) не взимается с отправителей ордеров.

Сохранение неуспешных транзакций и взимание комиссии за них введено с момента активации фичи №&nbsp;15 “Ride V4, VRF, Protobuf, Failed transactions”.
